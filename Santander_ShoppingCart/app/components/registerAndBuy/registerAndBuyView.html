<div class="row">
    <div class="col-md-4 order-md-2 mb-4">
        <hr class="mb-4">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Your Cart:</span>
            <span class="badge badge-secondary badge-pill">{{totalItems}}</span>
        </h4>
        <ul class="list-group mb-3" ng-model="quantityPriceArray">
            <li ng-repeat="item in quantityPriceArray" class="list-group-item d-flex justify-content-between lh-condensed">
                <div>
                    <h6 class="my-0">{{item.name}}</h6>
                    <small class="text-muted">{{'Quantity: ' + item.qty}}</small>
                </div>
                <span class="text-muted">{{'$' + item.price}}</span>
            </li>
            
            <li class="list-group-item d-flex justify-content-between bg-light" ng-show="discount > 0">
                <div class="text-success">
                    <h6 class="my-0">Promotion code</h6>
                </div>
                <span class="text-success">{{'$' + discount}}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
                <span>Total: </span>
                <strong>{{'$' + total}}</strong>
            </li>
        </ul>        
    </div>

    <div class="col-md-8 order-md-1">
        <hr class="mb-4">
        <div class="row">
            <div class="col-md-8 mb-3">
                <h4 class="col-sd-8 mb-3">Complete the following information:</h4>
            </div>
            <div class="col-md-4 mb-3">
                <button class="btn-primary btn-block" ng-click="backToShopping()">Back</button>
            </div>
        </div>
        <form role="form" name="registerAndBuy"ng-submit="congratulations()" class="needs-validation was-validated">
            <div class="form-group">
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="fullName">Full Name:</label>
                        <input type="text" class="form-control" id="fullName" placeholder="Enter your full name" value="" required>
                        <div class="invalid-feedback">
                            Full name is required.
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <div class="input-group" id="locationField">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Address:</span>
                        </div>
                        <input id="autocomplete" type="text" class="form-control" placeholder="Street and number" required>
                        <div class="invalid-feedback" style="width: 100%;">
                            Enter your address starting with the street and number.
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-5 mb-3">
                        <label for="route">Street:</label>
                        <input type="text" class="form-control" id="route" required>
                        <div class="invalid-feedback">
                            Street is required.
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="street_number">Number:</label>
                        <input type="text" class="form-control" id="street_number" required>
                        <div class="invalid-feedback">
                            Number is required.
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="locality">Locality:</label>
                        <input type="text" class="form-control" id="locality" required>
                        <div class="invalid-feedback">
                            Locality is required.
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <label for="postal_code">Zip Code:</label>
                        <input type="text" class="form-control" id="postal_code" required>
                        <div class="invalid-feedback">
                            Zip code is required.
                        </div>
                    </div>
                    <div class="col-md-5 mb-3">
                        <label for="administrative_area_level_1">City:</label>
                        <input type="text" class="form-control" id="administrative_area_level_1" required>
                        <div class="invalid-feedback">
                            City is required.
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="state">State:</label>
                        <input type="text" class="form-control" id="state" required>
                        <div class="invalid-feedback">
                            State is required.
                        </div>
                    </div>                    
                </div>

                <hr class="mb-4">
                <h4 class="mb-3">Payment</h4>

                <div class="row">
                    <div class="col-md-12 mb-4">
                        <div class="d-block my-3">
                            <div class="custom-control custom-radio">
                                <input id="isGift" name="paymentMethod" type="radio" class="form-control custom-control-input" required>
                                <label class="custom-control-label" for="isGift">Is a gift</label>
                            </div>
                            <div class="custom-control custom-radio">
                                <input id="isNotGift" name="paymentMethod" type="radio" class="form-control custom-control-input" required>
                                <label class="custom-control-label" for="isNotGift">Is not a gift</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 mb-3">
                                <label for="cc-number">Credit card number</label>
                                <!--<input type="text" class="form-control" id="cc-number" placeholder="" required>-->

                                <input type="text" class="form-control" name="creditCard" ng-model="creditCardNumber"
                                       required data-credit-card-type data-ng-pattern="/^[0-9]+$/"
                                       data-ng-minlength="15" maxlength="19" placeholder="Card Number">

                                <div class="invalid-feedback">
                                    Credit card number is required
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="cc-expiration">Card Type</label>
                                <input type="text" ng-model="ccinfo.type" id="" class="form-control" placeholder="" required disabled>
                            </div>
                            <div class="col-md-2 mb-3">
                                <label for="cc-expiration">Expiration</label>
                                <input type="text" class="form-control" id="cc-expiration" placeholder="" required>
                                <div class="invalid-feedback">
                                    Expiration date required
                                </div>
                            </div>
                            <div class="col-md-2 mb-3">
                                <label for="cc-expiration">CVV</label>
                                <input type="text" class="form-control" id="cc-cvv" placeholder="" required>
                                <div class="invalid-feedback">
                                    Security code required
                                </div>
                            </div>
                        </div>
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="form-control custom-control-input" id="same-address" required>
                            <label class="custom-control-label" for="same-address">I'm sure my information is correct.</label>
                        </div>
                    </div>
                </div>
                <button class="btn-primary btn-lg btn-block" type="submit" ng-disabled="registerAndBuy.$invalid && ccinfo.type === 'AMEX'">Pay</button>
                <hr class="mb-4">
            </div>
        </form>
    </div>    
</div>